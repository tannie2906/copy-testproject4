<div class="bin-page">
  <h2 class="page-title">Deleted Files</h2>

  <!-- Action Buttons -->
  <div class="actions">
    <button class="btn btn-success" (click)="restoreSelectedFiles()" [disabled]="!selectedFiles.length">
      <i class="fas fa-undo"></i> Restore Selected
    </button>
    <button class="btn btn-danger" (click)="deleteSelectedFiles()" [disabled]="!selectedFiles.length">
      <i class="fas fa-trash-alt"></i> Delete Selected
    </button>
    <button class="btn btn-warning" (click)="emptyTrash()">
      <i class="fas fa-trash"></i> Empty Trash
    </button>
  </div>

  <!-- Files Table -->
  <div class="table-container">
    <table class="file-table">
      <thead>
        <tr>
          <th>
            <input type="checkbox" (change)="toggleSelectAll($event)" [checked]="allSelected" />
          </th>
          <th> File Name</th>
          <th> Deleted At</th>
          <th> Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let file of deletedFiles">
          <td>
            <input type="checkbox" [checked]="selectedFiles.includes(file.id)" (change)="toggleSelection(file.id, $event)" />
          </td>
          <td>{{ file.file_name }}</td>
          <td>{{ file.deleted_at | date: 'medium' }}</td>
          <td class="action-buttons">
            <button class="btn btn-primary" (click)="restoreFile(file.id)" title="Restore File">
              <i class="fas fa-undo"></i> 🔄
            </button>
            <button class="btn btn-danger" (click)="permanentlyDeleteFile(file.id, $event)" title="Permanently Delete">
              <i class="fas fa-times-circle"></i> 🗑️
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
