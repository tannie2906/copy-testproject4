<div class="bin-page">
  <h2 class="page-title">Deleted Files</h2>

  <!-- Buttons to restore or delete selected files -->
  <div class="actions">
    <button class="btn btn-primary" (click)="restoreSelectedFiles()">Restore Selected</button>
    <button class="btn btn-danger" (click)="deleteFilePermanently(file)">Delete Permanently</button>
  </div>

  <!-- Files Table -->
  <div class="table-container">
    <table class="file-table">
      <thead>
        <tr>
          <th>
            <!-- Master Checkbox to Select All -->
            <input type="checkbox" (change)="toggleSelectAll($event)" />
          </th>
          <th>Name</th>
          <th>Size</th>
          <th>Owner</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <!-- Loop over deleted files -->
        <tr *ngFor="let file of deletedFiles">
          <td>
            <!-- Individual Checkbox for Each File -->
            <input
              type="checkbox"
              [checked]="selectedFiles.includes(file.id)"
              (change)="toggleSelection(file.id, $event)"
            />
          </td>
          <td>{{ file.filename }}</td>
          <td>{{ file.size | number }} bytes</td>
          <td>{{ file.owner.username }}</td>
          <td class="action-buttons">
            <!-- Restore and Delete Buttons -->
            <button class="btn btn-success" (click)="restoreFile(file)">Restore</button>
            <button class="btn btn-danger" (click)="deleteFilePermanently(file)">Delete Permanently</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Empty Bin -->
  <div class="empty-bin">
    <button class="btn btn-warning" (click)="emptyBin()">Empty Bin</button>
  </div>
</div>